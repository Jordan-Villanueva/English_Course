<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Class 1 - English Course</title>
  <link rel="stylesheet" href="../style.css">
  <link
  rel="stylesheet"
  href="https://unpkg.com/leaflet/dist/leaflet.css"
  />
</head>
<body>
  <header class="page-header" data-translated="false">
    <h1 class="title-flex">
      <span id=introduction class="translatable"
            data-original="Class 1: Introductions, greetings and farewells"
            data-translation="Clase 1: Presentaciones, saludos y despedidas">
        Class 1: Introductions, greetings and farewells
      </span>
      <button class="translate-section-btn" type="button">ğŸŒ</button>
      <button onclick="speak(document.getElementById('introduction').dataset.original)">ğŸ”Š</button>
    </h1>
  
    <p class="subtitle">
      <span id=beginners class="translatable"
            data-original="English Course for Beginners"
            data-translation="Curso de InglÃ©s para principiantes">
        English Course for Beginners
      </span>
      <button onclick="speak(document.getElementById('beginners').dataset.original)">ğŸ”Š</button>
    </p>
  
    <div class="header-buttons">
      <button id="login-btn" style="display:none;">Login/Ingresar</button>
      <button id="logout-btn" style="display:none;">Logout/Salir</button>
      <button id="home-btn" style="display:none;">ğŸ  Home/Inicio</button>
    </div>
  </header>

<main id="content">
  <!-- Objectives -->
<section class="objetivos" data-translated="false">
  <h2 class="title-flex">
    <span id=objectives class="translatable" 
          data-original="ğŸ¯ Class objectives" 
          data-translation="ğŸ¯ Objetivos de la clase">
      ğŸ¯ Class objectives
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button onclick="speak('Class objectives')">ğŸ”Š</button>
  </h2>
  <ul>
    <li>
      <span id=objectives-desc1 class="translatable" 
            data-original="Students will be able to introduce themselves, greet, say goodbye and use basic courtesy phrases." 
            data-translation="Los estudiantes podrÃ¡n presentarse, saludar, despedirse y usar frases bÃ¡sicas de cortesÃ­a.">
        Students will be able to introduce themselves, greet, say goodbye and use basic courtesy phrases.
      </span>
    <button onclick="speak(document.getElementById('objectives-desc1').dataset.original)">ğŸ”Š</button>
    </li>
    <li>
      <span id=objectives-desc2 class="translatable" 
            data-original="Start speaking and writing in English at a very basic level." 
            data-translation="Comenzar a hablar y escribir en inglÃ©s a un nivel muy bÃ¡sico.">
        Start speaking and writing in English at a very basic level.
      </span>
     <button onclick="speak(document.getElementById('objectives-desc2').dataset.original)">ğŸ”Š</button>
    </li>
  </ul>
</section>

<!-- Warm-up -->
<section class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id="warmup-title" class="translatable" 
          data-original="1. Warm-up / Icebreaker (10 min)" 
          data-translation="1. Calentamiento / Rompehielos (10 min)">
      1. Warm-up / Icebreaker (10 min)
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button onclick="speak('1. Warm-up / Icebreaker')">ğŸ”Š</button>
  </h2>

  <!-- Primer texto: presentaciÃ³n -->
  <p>
    <span id="warm-desc1" class="translatable"
          data-original="Hello, my name is Jordan. Iâ€™m from Mexico. Iâ€™m a physicist and software developer and I love movies and teaching."
          data-translation="Hola, mi nombre es Jordan. Soy de MÃ©xico. Soy fÃ­sico y desarrollador de software, y me encantan las pelÃ­culas y la enseÃ±anza.">
      Hello, my name is Jordan. Iâ€™m from Mexico. I'm a physicist and software developer and I love movies and teaching.
    </span>
    <button onclick="speak(document.getElementById('warm-desc1').dataset.original)">ğŸ”Š</button>
  </p>

  <!-- Segundo texto: ejemplo en cursiva -->
  <p><em>
    <span id="warm-desc2" class="translatable"
          data-original="Greeting: What's your name? Where are you from? What do you like and what do you do?"
          data-translation="Saludo: Â¿CÃ³mo te llamas? Â¿De dÃ³nde eres? Â¿QuÃ© te gusta y a quÃ© te dedicas?">
      Greeting: What's your name? Where are you from? What do you like and what do you do?
    </span>
    <button onclick="speak('Greeting: Whats your name? Where are you from? What do you like and what do you do?')">ğŸ”Š</button>
  </em></p>
</section>

<!-- Vocabulary -->
<section class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id=vocabulary class="translatable" 
          data-original="2. Vocabulary and pronouns (15 min)" 
          data-translation="2. Vocabulario y pronombres (15 min)">
      2. Vocabulary and pronouns (10 min)
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button onclick="speak('2. Vocabulary and pronouns')">ğŸ”Š</button>
  </h2>

  <!-- Greetings -->
  <h3 class="title-flex">
    <span id=greetings class="translatable" data-original="Greetings" data-translation="Saludos">Greetings</span>
    <button onclick="speak(document.getElementById('greetings').dataset.original)">ğŸ”Š</button>
  </h3>
  <p>
    <button class="speak-word-btn" onclick="speak(document.getElementById('hello').dataset.original)">
      <span id=hello class="translatable" data-original="Hello" data-translation="Hola">Hello</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('hi').dataset.original)">
      <span id=hi class="translatable" data-original="Hi" data-translation="Hola">Hi</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('goodm').dataset.original)">
      <span id=goodm class="translatable" data-original="Good morning" data-translation="Buen dÃ­a">Good morning</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('goodaf').dataset.original)">
      <span id=goodaf class="translatable" data-original="Good afternoon" data-translation="Buena tarde">Good afternoon</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('goodev').dataset.original)">
      <span id=goodev class="translatable" data-original="Good evening" data-translation="Buena noche">Good evening</span>
    </button>
  </p>

  <!-- Farewells -->
  <h3 class="title-flex">
    <span id=farew class="translatable" data-original="Farewells" data-translation="Despedidas">Farewells</span>
    <button onclick="speak(document.getElementById('farew').dataset.original)">ğŸ”Š</button>
  </h3>
  <p>
    <button class="speak-word-btn" onclick="speak(document.getElementById('farew1').dataset.original)">
      <span id="farew1" class="translatable" data-original="Good night" data-translation="Buena noche">Good night</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('farew2').dataset.original)">
      <span id="farew2" class="translatable" data-original="Goodbye" data-translation="AdiÃ³s">Goodbye</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('farew3').dataset.original)">
      <span id="farew3" class="translatable" data-original="Bye" data-translation="AdiÃ³s">Bye</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('farew4').dataset.original)">
      <span id="farew4" class="translatable" data-original="See you" data-translation="Nos vemos">See you</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('farew5').dataset.original)">
      <span id="farew5" class="translatable" data-original="See you later" data-translation="Hasta luego">See you later</span>
    </button>
  </p>

  <!-- Personal pronouns + verb "To be" -->
  <h3 class="title-flex">
    <span id="title-pronouns" class="translatable"
          data-original="Personal pronouns + verb 'To be'"
          data-translation="Pronombres personales + verbo 'Ser/Estar'">
      Personal pronouns + verb "To be"
    </span>
    <button onclick="speak(document.getElementById('title-pronouns').dataset.original)">ğŸ”Š</button>
  </h3>
  <p>
    <button class="speak-word-btn" onclick="speak(document.getElementById('pron1').dataset.original)">
      <span id="pron1" class="translatable" data-original="I am" data-translation="Yo soy/estoy">I am</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('pron2').dataset.original)">
      <span id="pron2" class="translatable" data-original="You are" data-translation="TÃº eres/estÃ¡s">You are</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('pron3').dataset.original)">
      <span id="pron3" class="translatable" data-original="He/She is" data-translation="Ã‰l/Ella es/estÃ¡">He/She is</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('pron4').dataset.original)">
      <span id="pron4" class="translatable" data-original="We are" data-translation="Nosotros somos/estamos">We are</span>
    </button>, 
    <button class="speak-word-btn" onclick="speak(document.getElementById('pron5').dataset.original)">
      <span id="pron5" class="translatable" data-original="They are" data-translation="Ellos son/estÃ¡n">They are</span>
    </button>
  </p>
</section>

<!-- Listening / Modeled videos -->
<section class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id="title-listening" class="translatable" data-original="3. Listening / Modeling: Conversation and Cinema (10 min)" data-translation="3. Escucha / Modelado: ConversaciÃ³n y Cine (10 min)">
      3. Listening / Modeling: Conversation and Cinema (10 min)
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button onclick="speak('3. Listening / Modeling: Conversation and Cinema')">ğŸ”Š</button>
  </h2>

  <p>
    <span id="listen-instr" class="translatable" 
          data-original="Watch the conversation video and write key sentences. Then, in the movie clips video, identify the learned phrases:" 
          data-translation="Mira el video de conversaciÃ³n y escribe las frases clave. Luego, en el video de clips de pelÃ­culas, identifica las frases aprendidas:">
      Watch the conversation video and write key sentences. Then, in the movie clips video, identify the learned phrases:
    </span>
    <button onclick="speak(document.getElementById('listen-instr').dataset.original)">ğŸ”Š</button>
  </p>

  <iframe width="100%" height="315" src="https://www.youtube.com/embed/RL8pLS8cUOs" frameborder="0" allowfullscreen style="margin-bottom: 15px;"></iframe>
  <iframe width="100%" height="315" src="https://www.youtube.com/embed/ImOoyoLmGUI" frameborder="0" allowfullscreen></iframe>
</section>

<!-- Song practice -->
<section class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id="title-song" class="translatable" data-original="4. Song Practice (10 min)" data-translation="4. PrÃ¡ctica de canciÃ³n (10 min)">
      4. Song Practice (10 min)
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button onclick="speak('4. Song Practice')">ğŸ”Š</button>
  </h2>

  <p>
    <span id="song-instr" class="translatable" 
          data-original="Listen to the song and complete the lyrics playing on LyricsTraining:" 
          data-translation="Escucha la canciÃ³n y completa la letra en LyricsTraining:">
      Listen to the song and complete the lyrics playing on LyricsTraining:
    </span>
    <button onclick="speak(document.getElementById('song-instr').dataset.original)">ğŸ”Š</button>
  </p>

<button class="speak-btn lyrics-btn" onclick="window.open('https://es.lyricstraining.com/play/the-beatles/hello-goodbye/HkEvrcQWdk#b7w!jortizvilla','_blank')">
  <span id="song-btn" class="translatable" data-original="ğŸµ Play with the song on LyricsTraining" data-translation="ğŸµ Juega con la canciÃ³n en LyricsTraining">
    ğŸµ Play with the song on LyricsTraining
  </span>
</button>
</section>

<!-- Exercises -->
<section class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id="title-where" class="translatable" data-original='5. Introduction of "Where are you from?" (10 min)' data-translation='5. IntroducciÃ³n de "Â¿De dÃ³nde eres?" (10 min)'>
      5. Introduction of "Where are you from?" (10 min)
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button onclick="speak('5. Introduction of Where are you from?')">ğŸ”Š</button>
  </h2>
  <p>
    <span id="where-instr" class="translatable" data-original="Watch the video" data-translation="Mira el video">
      Watch the video
    </span>
    <button onclick="speak(document.getElementById('where-instr').dataset.original)">ğŸ”Š</button>
  </p>
  <iframe width="100%" height="315" src="https://www.youtube.com/embed/byqOkm6-SCc" frameborder="0" allowfullscreen></iframe>
</section>

  <!-- Map Exercise -->
<section class="bloque" data-translated="false">
  <h3>Select a country on the map!</h3>
  <div id="map" style="height: 400px; width: 100%; border: 1px solid #ccc;"></div>
  <p id="dialogue"></p>
</section>

<!-- Interactive exercise -->
<section class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id="interactive-title-6" class="translatable"
          data-original="6. Interactive Practice: &quot;What&#39;s this?&quot;"
          data-translation="6. PrÃ¡ctica interactiva: &quot;Â¿QuÃ© es esto?&quot;">
      6. Interactive Practice: "What's this?" (10 min)
    </span>
    <button class="translate-section-btn" type="button">ğŸŒ</button>
    <button type="button" onclick="speak('6. Interactive Practice: Whatâ€™s this?')">ğŸ”Š</button>
  </h2>

  <p>
    <span id="interactive-desc-6" class="translatable"
          data-original="Click on the objects to hear their names in English. Then practice asking &quot;What&#39;s this?&quot;"
          data-translation="Haz clic en los objetos para escuchar sus nombres en inglÃ©s. Luego practica preguntando &quot;Â¿QuÃ© es esto?&quot;">
      Click on the objects to hear their names in English. Then practice asking "What's this?"
    </span>
    <button type="button" onclick="speak(document.getElementById('interactive-desc-6').dataset.original)">ğŸ”Š</button>
  </p>

  <div class="object-container">
    <div class="object-item" onclick="speak(this.querySelector('.translatable').dataset.original)">
      <img src="https://raw.githubusercontent.com/Jordan-Villanueva/English_Course/main/Class1/images/book-solid-full.svg" class="object-image" alt="Book">
      <div class="object-name">
        <span class="translatable" data-original="Book" data-translation="Libro">Book</span> 
      </div>
    </div>

    <div class="object-item" onclick="speak(this.querySelector('.translatable').dataset.original)">
      <img src="https://raw.githubusercontent.com/Jordan-Villanueva/English_Course/main/Class1/images/pen-clip-solid-full.svg" class="object-image" alt="Pen">
      <div class="object-name">
        <span class="translatable" data-original="Pen" data-translation="Pluma">Pen</span> 
      </div>
    </div>

    <div class="object-item" onclick="speak(this.querySelector('.translatable').dataset.original)">
      <img src="https://raw.githubusercontent.com/Jordan-Villanueva/English_Course/main/Class1/images/pencil-solid-full.svg" class="object-image" alt="Pencil">
      <div class="object-name">
        <span class="translatable" data-original="Pencil" data-translation="LÃ¡piz">Pencil</span> 
      </div>
    </div>

    <div class="object-item" onclick="speak(this.querySelector('.translatable').dataset.original)">
      <img src="https://raw.githubusercontent.com/Jordan-Villanueva/English_Course/main/Class1/images/chair-solid-full.svg" class="object-image" alt="Chair">
      <div class="object-name">
        <span class="translatable" data-original="Chair" data-translation="Silla">Chair</span> 
      </div>
    </div>

    <div class="object-item" onclick="speak(this.querySelector('.translatable').dataset.original)">
      <img src="https://raw.githubusercontent.com/Jordan-Villanueva/English_Course/main/Class1/images/table-furniture.svg" class="object-image" alt="Table">
      <div class="object-name">
        <span class="translatable" data-original="Table" data-translation="Mesa">Table</span> 
      </div>
    </div>

    <div class="object-item" onclick="speak(this.querySelector('.translatable').dataset.original)">
      <img src="https://raw.githubusercontent.com/Jordan-Villanueva/English_Course/main/Class1/images/bag-personal.svg" class="object-image" alt="Bag">
      <div class="object-name">
        <span class="translatable" data-original="Bag" data-translation="Bolsa">Bag</span> 
      </div>
    </div>

    <div class="object-item" onclick="speak(this.querySelector('.translatable').dataset.original)">
      <img src="https://raw.githubusercontent.com/Jordan-Villanueva/English_Course/main/Class1/images/clock-time-seven-outline.svg" class="object-image" alt="Bag">
      <div class="object-name">
        <span class="translatable" data-original="Clock" data-translation="Reloj">Clock</span> 
      </div>
    </div>

    <div class="object-item" onclick="speak(this.querySelector('.translatable').dataset.original)">
      <img src="https://raw.githubusercontent.com/Jordan-Villanueva/English_Course/main/Class1/images/notebook.svg" class="object-image" alt="Bag">
      <div class="object-name">
        <span class="translatable" data-original="Notebook" data-translation="Cuaderno">Notebook</span> 
      </div>
    </div>

    <div class="object-item" onclick="speak(this.querySelector('.translatable').dataset.original)">
      <img src="https://raw.githubusercontent.com/Jordan-Villanueva/English_Course/main/Class1/images/marker.svg" class="object-image" alt="Bag">
      <div class="object-name">
        <span class="translatable" data-original="Marker" data-translation="Marcador">Marker</span> 
      </div>
    </div>

    <div class="object-item" onclick="speak(this.querySelector('.translatable').dataset.original)">
      <img src="https://raw.githubusercontent.com/Jordan-Villanueva/English_Course/main/Class1/images/eraser-solid-full.svg" class="object-image" alt="Bag">
      <div class="object-name">
        <span class="translatable" data-original="Eraser" data-translation="Borrador">Eraser</span> 
      </div>
    </div>
  </div>
</section>
  
<!-- Numbers -->
<section id="section7" class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id="numbers-title" class="translatable"
          data-original="7. Numbers in English: from 1 to 30"
          data-translation="7. NÃºmeros en inglÃ©s: del 1 al 30">
      7. Numbers in English: from 1 to 30 (10 min)
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button onclick="speak(document.getElementById('numbers-title').dataset.original)">ğŸ”Š</button>
  </h2>

  <p>
    <span id="numbers-desc" class="translatable"
          data-original="Click each number to hear its pronunciation:"
          data-translation="Haz clic en cada nÃºmero para escuchar su pronunciaciÃ³n:">
      Click each number to hear its pronunciation:
    </span>
    <button onclick="speak(document.getElementById('numbers-desc').dataset.original)">ğŸ”Š</button>
  </p>

  <div class="numbers-grid">
    <script>
      const numberGrid = document.currentScript.parentNode;
      const numbers = [
        { en: "one", es: "uno" }, { en: "two", es: "dos" }, { en: "three", es: "tres" }, 
        { en: "four", es: "cuatro" }, { en: "five", es: "cinco" }, { en: "six", es: "seis" },
        { en: "seven", es: "siete" }, { en: "eight", es: "ocho" }, { en: "nine", es: "nueve" },
        { en: "ten", es: "diez" }, { en: "eleven", es: "once" }, { en: "twelve", es: "doce" },
        { en: "thirteen", es: "trece" }, { en: "fourteen", es: "catorce" }, { en: "fifteen", es: "quince" },
        { en: "sixteen", es: "diecisÃ©is" }, { en: "seventeen", es: "diecisiete" }, { en: "eighteen", es: "dieciocho" },
        { en: "nineteen", es: "diecinueve" }, { en: "twenty", es: "veinte" }, { en: "twenty-one", es: "veintiuno" },
        { en: "twenty-two", es: "veintidÃ³s" }, { en: "twenty-three", es: "veintitrÃ©s" },
        { en: "twenty-four", es: "veinticuatro" }, { en: "twenty-five", es: "veinticinco" },
        { en: "twenty-six", es: "veintisÃ©is" }, { en: "twenty-seven", es: "veintisiete" },
        { en: "twenty-eight", es: "veintiocho" }, { en: "twenty-nine", es: "veintinueve" },
        { en: "thirty", es: "treinta" }
      ];

      for (let i = 0; i < numbers.length; i++) {
        const div = document.createElement('div');
        div.className = 'number-item';

        // Texto traducible
        const numberName = document.createElement('span');
        numberName.className = 'number-name translatable';
        numberName.dataset.original = numbers[i].en;
        numberName.dataset.translation = numbers[i].es;
        numberName.dataset.tts = numbers[i].en;
        numberName.textContent = numbers[i].en; // solo texto

        // BotÃ³n de bocina separado
        const speakerBtn = document.createElement('button');
        // speakerBtn.textContent = "ğŸ”Š";
        speakerBtn.onclick = function(e) {
          e.stopPropagation(); // evitar que el div padre tambiÃ©n haga speak
          speak(numberName.dataset.tts);
        };

        div.innerHTML = `<div class="number">${i+1}</div>`;
        div.appendChild(numberName);
       // div.appendChild(speakerBtn);

        // Click en div completo tambiÃ©n reproduce audio
        div.onclick = function() {
          speak(numberName.dataset.tts);
        };

        numberGrid.appendChild(div);
      }
    </script>
  </div>

  <div class="practice-block">
    <p><strong>
      <span class="translatable"
            data-original="Pronunciation practice:"
            data-translation="PrÃ¡ctica de pronunciaciÃ³n:">
        Pronunciation practice:
      </span>
      <button type="button" onclick="speak('Pronunciation practice')">ğŸ”Š</button>
    </strong></p>

   <!-- SecciÃ³n de Listen 1-30 -->
<button class="speak-btn big-btn" onclick="practiceNumbers(1,10)">
  <span class="translatable" data-original="Listen 1 to 10" data-translation="Escuchar del 1 al 10">
    Listen 1 to 10
  </span>
</button>

<button class="speak-btn big-btn" onclick="practiceNumbers(11,20)">
  <span class="translatable" data-original="Listen 11 to 20" data-translation="Escuchar del 11 al 20">
    Listen 11 to 20
  </span>
</button>

<button class="speak-btn big-btn" onclick="practiceNumbers(21,30)">
  <span class="translatable" data-original="Listen 21 to 30" data-translation="Escuchar del 21 al 30">
    Listen 21 to 30
  </span>
</button>
  </div>
</section>
  
<!-- Mini writing / journaling -->
<section class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id="interactive-title-8" class="translatable" data-original="8. Mini writing / journaling (10 min)" data-translation="8. Escritura / Diario personal (10 min)">
      8. Mini writing / journaling (10 min)
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button type="button" onclick="speak('8. Mini writing / journaling')">ğŸ”Š</button>
  </h2>
  <ul>
    <li>
      <span id="mini-write-1" class="translatable" data-original="Hello, my name is ___" data-translation="Hola, mi nombre es ___">Hello, my name is ___.</span>
      <button type="button" onclick="speak('Hello, my name is')">ğŸ”Š</button>
    </li>
    <li>
      <span id="mini-write-2" class="translatable" data-original="I'm from ___" data-translation="Soy de ___">I'm from ___.</span>
      <button type="button" onclick="speak('Iâ€™m from')">ğŸ”Š</button>
    </li>
    <li>
      <span id="mini-write-3" class="translatable" data-original="I like ___" data-translation="Me gusta ___">I like ___.</span>
      <button type="button" onclick="speak('I like')">ğŸ”Š</button>
    </li>
  </ul>
</section>

<!-- Group speaking -->
<section class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id="interactive-title-9" class="translatable" data-original="9. Group speaking (10 min)" data-translation="9. ConversaciÃ³n grupal (10 min)">
      9. Group speaking (10 min)
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button type="button" onclick="speak('9. Group speaking')">ğŸ”Š</button>
  </h2>
  <p>
    <span id="group-desc" class="translatable" data-original="The students practice to introduce themselves in groups using the learned phrases, including the questions" 
          data-translation="Los estudiantes practican presentarse en grupos usando las frases aprendidas, incluyendo las preguntas">
      The students practice to introduce themselves in groups using the learned phrases, including the questions
    </span> 
    <button type="button" onclick="speak(document.getElementById('group-desc').dataset.original)">ğŸ”Š</button>
  </p>
</section>

<!-- Writing activity -->
<section class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id="interactive-title-10" class="translatable" data-original="10. Writing activity (10 min)" data-translation="10. Actividad de escritura (10 min)">
      10. Writing activity (10 min)
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button type="button" onclick="speak('10. Writing activity')">ğŸ”Š</button>
  </h2>
  <p>
    <span id="write-desc" class="translatable" data-original="Solve the following exercise:" data-translation="Resuelve el siguiente ejercicio:">Solve the following exercise:</span>
    <button type="button" onclick="speak(document.getElementById('write-desc').dataset.original)">ğŸ”Š</button>
  </p>
  <img src="cierre.png" alt="Closing activity: Complete the dialogues" width="100%" style="border: 2px solid #ccc; border-radius: 10px; max-width: 600px;">
</section>


<!-- Games -->
<section class="bloque" data-translated="false">
  <h2 class="title-flex">
    <span id="interactive-title-11" class="translatable"
          data-original="11. Interactive games / Baamboozle (10 min)"
          data-translation="11. Juegos interactivos / Baamboozle (10 min)">
      11. Interactive games / Baamboozle (10 min)
    </span>
    <button class="translate-section-btn">ğŸŒ</button>
    <button onclick="speak('11. Interactive games / Baamboozle')">ğŸ”Š</button>
  </h2>

  <div class="game-item">
    <p>
      <span id="game-1" class="translatable"
            data-original="ğŸ² Game 1"
            data-translation="ğŸ² Juego 1">
       ğŸ² Game 1
      </span>
      <button onclick="speak('Game 1')">ğŸ”Š</button>
    </p>
	<a href="https://www.baamboozle.com/game/641765" target="_blank"
	   class="speak-btn translatable big-btn"
	   data-original="Play on Baamboozle"
	   data-translation="Jugar en Baamboozle">
	   Play on Baamboozle
	</a>
  </div>

  <div class="game-item">
    <p>
      <span id="game-2" class="translatable"
            data-original="ğŸ² Game 2"
            data-translation="ğŸ² Juego 2">
        ğŸ² Game 2
      </span>
      <button onclick="speak('Game 2')">ğŸ”Š</button>
    </p>
	<a href="https://www.baamboozle.com/game/54952" target="_blank"
	   class="speak-btn translatable big-btn"
	   data-original="Play on Baamboozle"
	   data-translation="Jugar en Baamboozle">
	   Play on Baamboozle
	</a>
  </div>

  <p>
    <span id="game-tip" class="translatable"
          data-original="Tip: Create teams for the activity."
          data-translation="Consejo: Crea equipos para la actividad.">
      Tip: Create teams for the activity.
    </span>
    <button onclick="speak(document.getElementById('game-tip').dataset.original)">ğŸ”Š</button>
  </p>
</section>
</main>

<footer>
  <p>English Course for Beginners â€” Created by Jordan Ortiz</p>
</footer>

<script>

 function preprocessTextForTTS(text) {
  // Diccionario de contracciones comunes â†’ versiÃ³n hackeada
  const hacks = {
    "I'm": "I\u200Bm",       // "Iâ€™m"
    "I'm.": "I\u200Bm.", 
    "I'm,": "I\u200Bm,", 

    "It's": "It\u200Bs",    // "Itâ€™s"
    "What's": "What\u200Bs",
    "That's": "That\u200Bs",
    "There's": "There\u200Bs",
    "Here's": "Here\u200Bs",

    "You're": "You\u200Bre",
    "We're": "We\u200Bre",
    "They're": "They\u200Bre",

    "Heâ€™s": "He\u200Bs",
    "Sheâ€™s": "She\u200Bs"
  };

  let processed = text;
  for (const [key, val] of Object.entries(hacks)) {
    const regex = new RegExp(key, "gi");
    processed = processed.replace(regex, val);
  }

  return processed;
} 
  
// Speak function improved
function speak(text, lang = 'en-US') {
  if ('speechSynthesis' in window) {
    window.speechSynthesis.cancel();

    // Usar el preprocesador ANTES de mandar al motor
    const fixedText = preprocessTextForTTS(text);

    const utterance = new SpeechSynthesisUtterance(fixedText);
    utterance.lang = lang;
    utterance.rate = 0.95;
    utterance.pitch = 1.2;
    utterance.volume = 1;

    const voices = speechSynthesis.getVoices();
    let customVoice = voices.find(v => v.name === 'Google US English')
                      || voices.find(v => v.name === 'Microsoft Zira Desktop - English (United States)')
                      || voices.find(v => v.name === 'Samantha')
                      || voices[0];
    if (customVoice) utterance.voice = customVoice;

    window.speechSynthesis.speak(utterance);
  } else {
    alert("Your browser doesn't support speech synthesis.");
  }
}

// Evitar primer playback en blanco
window.onload = () => { speechSynthesis.getVoices(); };

let practiceTimeouts = [];

function practiceNumbers(start=1, end=10) {
  practiceTimeouts.forEach(t => clearTimeout(t));
  practiceTimeouts = [];
  window.speechSynthesis.cancel();

  const text = numbers.slice(start-1, end).map(n => n.en).join(", ");
  speak(text);
}

// Toggle section translation
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll(".translate-section-btn").forEach(btn => {
    btn.addEventListener("click", () => {
    const container = btn.closest("section, header");
    const isTranslated = container.getAttribute("data-translated") === "true";
    
    // Alternar todos los elementos traducibles dentro del contenedor
    container.querySelectorAll(".translatable").forEach(el => {
      el.textContent = isTranslated 
        ? el.dataset.original 
        : el.dataset.translation;
    });
    
    // Cambiar flag
    container.setAttribute("data-translated", isTranslated ? "false" : "true");
    });
  });
});  
</script>

<!-- Auth0 -->
<script src="../auth.js"></script>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
  // Inicializa el mapa
  const map = L.map('map').setView([20, 0], 2); // vista mundial

  // Capa de mapa
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 5,
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  // Lista de paÃ­ses y ciudades de referencia
  const countries = [
    { name: "Japan", lat: 35.68, lng: 139.76, dialogue: "I'm from Japan. I'm Japanese." },
    { name: "USA", lat: 38.9, lng: -77.03, dialogue: "I'm from the USA. I'm American." },
    { name: "France", lat: 48.85, lng: 2.35, dialogue: "I'm from France. I'm French." },
    { name: "Brazil", lat: -15.79, lng: -47.88, dialogue: "I'm from Brazil. I'm Brazilian." }
  ];

  // Agrega marcadores
  countries.forEach(c => {
    L.marker([c.lat, c.lng])
      .addTo(map)
      .bindPopup(`<b>${c.name}</b>`)
      .on('click', () => {
        document.getElementById('dialogue').textContent = c.dialogue;
      });
  });
</script>

  
</body>
</html>
